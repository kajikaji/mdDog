'use strict'

define(function(){
    var userManager = function(fid){
        this.api = "api/userManager.cgi";
        this.fid = fid;
    };
    userManager.prototype = {
        post : function(data, callback) {
            $.ajax({
                'url'  : this.api,
                'type' : 'POST',
                'data' : data
            }).done(callback);
        },
        toggleApprove: function(uid_, obj){
            var checked_ = obj.prop('checked')===true?1:0;
//            var uid_     = obj.data('id');
            var data     = {
                action  : 'user_may_approve',
                type    : 'POST',
                fid     : this.fid,
                uid     : uid_,
                checked : checked_
            };
            this.post(data, undefined);
        }
    };

    return userManager;
});
