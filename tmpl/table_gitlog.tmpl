<table class="Gitlog">
  <thead>
    <tr>
	  <th class="Date">更新年月日</th>
	  <th class="Message">詳細</th>
	  <th class="Author">更新者</th>
	  <th class="Ctrl">操作</th>
    </tr>
  </thead>
  <tbody>
    [% FOREACH log IN loglist %]
    <tr class="Log [% UNLESS is_live %]Old[% ELSIF log.user %]User[% END %]">
       <td class="Date">[% log.attr.date %]</td>
       <td class="Message">[% log.message %]</td>
       <td class="Author">[% log.attr.author %]</td>
       <td class="Ctrl">
         <ul>
           [% IF is_mdfile %]
           <li><span class="MdfileToolbar"><a href="md_view.cgi?fid=[% fid %][% IF log.user %]&user=[% log.user %][% END %]&revision=[% log.id %]">閲覧</a></span></li>
           [% END %]
           <li><span class="DownloadLink"><a href="download.cgi?fid=[% fid %]&revision=[% log.id %]">download</a></span></li>
           [% UNLESS loop.last %]
           <li><span class="Diff"><a href="docdiff.cgi?fid=[% fid %]&revision=[% log.id %]">差分</a></span></li>
           [% END %]
           [% IF log.user %]
           <li><span class="MasterDiff"><a href="docdiff.cgi?fid=[% fid %]&revision=[% log.id %]&dist=master">共有との差分</a></spa></li>
           [% END %]
           [% IF is_approve && is_live && log.user  %]
           <li><span class="CommitApprove"><a href="approve.cgi?fid=[% fid %]&user=[% log.user %]&revision=[% log.id %]">ここまでを承認する</a></span>
<form class="ApproveForm" method="post">
<input type="hidden" name="fid" value="[% fid %]">
<input type="hidden" name="user" value="[% log.user %]">
<input type="hidden" name="revision" value="[% log.id %]">
<input type="submit" name="approve_pre" value="承認" class="Btn">
</form>
           </li>
           [% END %]
         </ul>
       </td>
    </tr>
    [% END %]
  </tbody>
</table>
